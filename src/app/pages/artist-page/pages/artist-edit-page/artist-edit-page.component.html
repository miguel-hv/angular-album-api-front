<div class="b-form">
  <div class="o-text-centered mt-5 mb-3">
    <h2 class="s-font-primary">Add New Artist</h2>
    <a class="b-link" [routerLink]="['/artists']"><p>Go back to artists</p></a>
  </div>
  <form (ngSubmit)="onSubmit()" [formGroup]="artistsCreateForm">
    <div class="b-form__group">
      <label class="b-form__label s-font-primary">Name</label>
      <input
        class="b-form__input"
        [ngClass]="{
          'b-form__input--warning':
            !artistsCreateForm.get('name').valid &&
            (artistsCreateForm.get('name').dirty || submitted)
        }"
        type="text"
        placeholder="artist name"
        id="name"
        formControlName="name"
      />
      <div
        class="b-form__warning"
        *ngIf="
          !artistsCreateForm.get('name').valid &&
          (artistsCreateForm.get('name').dirty || submitted)
        "
      >
        Please provide a valid name
      </div>
    </div>

    <div class="b-form__group">
      <label class="b-form__label s-font-primary">Photo</label>
      <input
        class="b-form__input"
        [ngClass]="{
          'b-form__input--warning':
            !artistsCreateForm.get('photoUrl').valid &&
            (artistsCreateForm.get('photoUrl').dirty || submitted)
        }"
        type="url"
        placeholder="photo url"
        id="photoUrl"
        formControlName="photoUrl"
        pattern="https?://.+"
      />
      <div
        class="b-form__warning"
        *ngIf="
          !artistsCreateForm.get('photoUrl').valid &&
          (artistsCreateForm.get('photoUrl').dirty || submitted)
        "
      >
        Please provide a valid url
      </div>
    </div>

    <div class="b-form__group">
      <label class="b-form__label s-font-primary">Birth date</label>
      <input
        class="b-form__input"
        type="date"
        id="birthdate"
        min="1909-01-01"
        max="{{ getTodayDate() }}"
        formControlName="birthdate"
      />
      <div
        class="b-form__warning"
        *ngIf="
          !artistsCreateForm.get('birthdate').valid &&
          (artistsCreateForm.get('birthdate').dirty || submitted)
        "
      >
        Please provide a valid birth date
      </div>
    </div>

    <div class="b-form__group">
      <label class="b-form__label s-font-primary">Death date</label>
      <input
        class="b-form__input"
        type="date"
        id="deathdate"
        min="1909-01-01"
        max="{{ getTodayDate() }}"
        formControlName="deathdate"
      />
      <div
        class="b-form__warning"
        *ngIf="
          !artistsCreateForm.get('deathdate').valid &&
          (artistsCreateForm.get('deathdate').dirty || submitted)
        "
      >
        Please provide a valid death date
      </div>
    </div>

    <button
      class="b-button"
      type="submit"
      [disabled]="!artistsCreateForm.valid"
    >
      Submit
    </button>
  </form>
</div>


